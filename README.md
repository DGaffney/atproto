<p align="center">
    <a href="https://github.com/MarshalX/atproto">
        <picture>
            <source media="(prefers-color-scheme: dark)" srcset="https://github.com/MarshalX/atproto/raw/main/.github/images/logo_dark.png">
            <img alt="Logo of atproto SDK for Python'" src="https://github.com/MarshalX/atproto/raw/main/.github/images/logo_white.png">
        </picture>
    </a>
    <br>
    <b>Autogenerated from lexicons, well type hinted, documented, sync and async SDK for Python</b>
    <br>
    <a href="https://github.com/MarshalX/atproto/tree/main/examples">
        Examples
    </a>
    •
    <a href="https://atproto.rtfd.io">
        Documentation
    </a>
    •
    <a href="https://discord.gg/ZDMSm3UGPN">
        Discord Bluesky API
    </a>
</p>

## The AT Protocol SDK

> ⚠️ Under construction. The SDK was built from scratch for 40 hours. Somewhere I speedran. I have a list of things that will break backward computability. Until the 1.0.0 release, I am not going to care about it. 

Code snippet:
```python
from atproto import Client


def main():
    client = Client()
    profile = client.login('my-handle', 'my-password')
    print('Welcome,', profile.displayName)
    
    post_ref = client.send_post(text='Hello World from Python!')
    client.like(post_ref)

    
if __name__ == '__main__':
    main()

```

<details>
  <summary>Code snippet of async version</summary>

```python
import asyncio

from atproto import AsyncClient


async def main():
    client = AsyncClient()
    profile = await client.login('my-handle', 'my-password')
    print('Welcome,', profile.displayName)
    
    post_ref = await client.send_post(text='Hello World from Python!')
    await client.like(post_ref)

    
if __name__ == '__main__':
    asyncio.get_event_loop().run_until_complete(main())

```
</details>

### Introduction

This SDK attempts to implement everything that provides ATProto. Due to the unstable state of the protocol (it grows and changes fast) and a bit of outdated documentation, only the client side is supported yet. There is support for Lexicon Schemes and XRPC clients for now. All models, queries, and procedures are generated automatically. The main focus is on the lexicons of atproto.com and bsky.app, but it doesn't have a vendor lock on it. Feel free to use the code generator for your own lexicon schemes. SDK also provides utilities to work with CID, NSID, URI. The support of IPLD (dag-cbor) will be added in the near future.

### Requirements

- Python 3.7 or higher.
- Access to Bsky if you don't have own server.

### Installing

#### From PyPI
``` bash
pip3 install -U atproto
```

#### From main branch of the repository
``` bash
pip install -U git+https://github.com/MarshalX/atproto.git
```

### Quick start

First of all, you need to create the instance of the XRPC Client. To do so you have 2 major options: asynchronous, and synchronous. The dereference only in import and how you call the methods. If you are not familiar with async use sync instead.

For sync:
```python
from atproto import Client

client = Client()
# by default, it uses the server of bsky.app. To change this behaviour pass the base api URL to constructor
# Client('https://my.awesome.server/xrpc')
```

Fro async:
```python
from atproto import AsyncClient

client = AsyncClient()
# by default, it uses the server of bsky.app. To change this behaviour pass the base api URL to constructor
# AsyncClient('https://my.awesome.server/xrpc')
```

In the snippets below only the sync version will be presented.

Right after the creation of the Client instance you probably want to access the full API and perform actions by profile. To achieve this you should log in to the network using your handle and password. The password could be an app-specific one.

```python
from atproto import Client

client = Client()
client.login('my-username', 'my-password')
```

You are awesome! Now you feel to pick any high-level method that you want and perform it!

Code to send post:
```python
from atproto import Client

client = Client()
client.login('my-username', 'my-password')
client.send_post(text='Hello World!')
```

Useful links to continue:
- [List of all methods with documentation](https://atproto.readthedocs.io/en/latest/xrpc_clients/client.html).
- [Examples of using the methods](https://github.com/MarshalX/atproto/tree/main/examples).

### Documentation

The documentation is live at [readthedocs.io](https://atproto.rtfd.io/).

### Getting help

You can get help in several ways:
- Report bugs, request new features by [creating an issue](https://github.com/MarshalX/atproto/issues/new).
- Ask questions by [starting a discussion](https://github.com/MarshalX/atproto/discussions/new).
- Ask questions in [Discord server](https://discord.gg/ZDMSm3UGPN).

### Advanced usage

TODO

### Change log

The full change log is available in [CHANGES.md](CHANGES.md).

### Contributing

Contributions of all sizes are welcome.

### License

MIT
